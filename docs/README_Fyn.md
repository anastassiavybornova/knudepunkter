# The Cycle Node Network Planner

*A decision support tool under development, aimed at supporting the planning of Denmark's cycle node network.*

The Cycle Node Network Planner is a collaboration between [Dansk Kyst- og Naturturisme](https://www.kystognaturturisme.dk) (DKNT) and the [IT University of Copenhagen](https://nerds.itu.dk) in the framework of [Bedre vilk√•r for cykelturismen in Denmark](https://www.kystognaturturisme.dk/cykelknudepunkter). Our goal is to provide an open-source, customizable, data-driven decision support tool for the planning of Denmark's cycle node network. The Cycle Node Network Planner runs in QGIS and Python.

Here, we present a demo version of the Cycle Node Network Plannner, pre-set to run for the island of Fyn. 

# Getting started

## 1. What are the main features of the Cycle Node Network Planner?

The Cycle Node Network Planner takes all relevant data layers provided by Septima (as visualized in NIRAS' WebGIS application) as point of departure. The Planner then *merges and summarizes* these data; and uses them to *evaluate* the cycle node network. All [evaluation](#2-what-are-the-evaluation-criteria-of-the-planner) results are displayed in QGIS. In addition, [summary statistics](#3-what-are-the-summary-statistics-generated-by-the-planner) of the cycle node network are generated. By exploring the QGIS results and the summary statistics, planners can get a better overview of the network characteristics, and identify potential improvements to the network. [Click here](LINK) for an example evaluation.

## 2. What are the evaluation criteria of the Planner?

The Planner evaluates the cycle node network through 3 perspectives: polygon layers, point layers, and elevation.

### Polygon layers

Polygon layers show the attributes of the area (land use) surrounding the cycle node networks, by category. The Planner computes and visualizes which network segments go through which category of land use, using a buffer of 100m around the cycle node network. There are five polygon layers:
* Nature (forests, lakes, beaches, etc.)
* Culture (city centers, historical landscapes, etc.)
* Agriculture
* Summerhouse areas
* Areas to verify (where it is worth double-checking whether cycling conditions are appropriate, such as industrial areas, military facilities, business areas, etc.)

### Point layers

Point layers contain specific locations that are of interest for cyclists and tourists. The Planner computes whether specific locations are in feasible distance (as the crow flies) from the cycle node network. There are three point layers:
* Facilities: good to have directly on the road (max. 100m distance), such as drinking water, toilets, and bicycle shops
* Services: good to have close to the road (max. 500m distance), such as groceries and places to sleep
* POIs (Points Of Interest): good to have within an acceptable detour (max. 1km distance), such as landmarks and museums

The distance threshold for each of the point layers is set to a default value indicated above, but can be adjusted by the user.

### Elevation

Elevation is shown as an attribute of ~100m segments which together make up the cycle node network, and binned into four categories, aimed at the average leisure cyclist on a city bike:
* <3% no elevation, or manageable elevation
* 3-5% noticeable elevation, that can get tiresome after a longer period
* 5-7% steep elevation, that can get tiresome quickly
* `> 10% very steep elevation, unbikeable for most cyclists

## 3. What are the summary statistics generated by the Planner?

The summary statistics show:
* for each of the polygon layers, the number and percentage of kilometers of cycle node network within that layer
* for each of the point layers, the number and percentage of reached vs. unreached points
* for the elevation layer, the number and percentage of kilometers in each elevation category
<!-- * for the entire network, the number of nodes, stretches, and loops
* for the area covered by the network, the average node density -->

## 4. How can I run the Planner myself?

1. Set up QGIS
2. Download the contents of this repository (`knudepunkter-fyn` folder)
3. Open QGIS, set up a new project, and save it in the `knudepunkter-fyn` folder
4. Open the Python console in QGIS, and run the scripts from the `scripts` folder in indicated order
5. Explore the QGIS visualization: use the evaluation layers (polygons, points, elevation) to assess in which places the network should be changed 
6. Explore the summary statistics: get an overview of overall network quality and general characteristics of the network 

**Detailed instructions** for each step are found [here](/docs/HOWTO_detailed.md). 


# Your feedback is greatly appreciated

Once you have familiarized yourself with the Cycle Node Network Planner, we will be grateful for any feedback! Please fill out the [survey here](LINK) (between 5 and 20 minutes).

# Finding out more

Find out more about:
* [Data sources](LINK)
* [Evaluation layers](LINK)
* [Python libraries used](LINK)

# Troubleshooting: What if running the Planner doesn't work?

For troubleshooting, [contact us](mailto:anvy@itu.dk)! We also prepared a QGIS project showing the final output of the Planner. It is available for download [here](LINK).